# 주소창에 naver.com을 검색하면 일어나는 일

1. 브라우저의 URL 파싱
2. HSTS 목록 조회
3. URL을 IP 주소로 변환
4. 라우터를 통해 해당 서버의 게이트웨이까지 이동

## ARP를 통해 IP 주소를 MAC 주소로 변환

ARP(Address Resolution Protocol)을 통해 IP 주소를 MAC 주소로 변환한다.

실질적인 통신을 하기 위해서는 논리 주소인 IP 주소를 물리 주소인 MAC 주소로 변환해야 한다.
이를 위해 해당 네트워크 내에서 ARP를 브로드캐스팅한다. 해당 IP 주소를 가지고 있는 노드는 자신의
MAC 주소를 응답한다. 즉, ARP Request는 broadcast하지만 ARP response는 unicast하다.

위의 그림에서 이전 단계에서 연속적인 라우팅을 통해 10.20.30.1 주소까지 도착한다. 하지만 우리가
원하는 IP 주소는 10.20.30.6이다. 때문에 10.20.30.1에 연결된 모두에게 broadcast ARP 요청을
보낸다.(이 요청 송에는 송신자의 물리주소, 논리주소와 수신자의 논리주소가 들어있다.) ARP 요청을 받은 네트워크 중 자신의 논리주소와 ARP 요청 속 수신자의 논리주소가 같다면
ARP 응답을 보낸다.(이 응답 속에는 송신자의 물리주소, 논리주소와 수신자의 물리주소, 논리주소가 들어있다.)
이를 통해 송신자는 수신자의 MAC 주소를 알게 된다.
